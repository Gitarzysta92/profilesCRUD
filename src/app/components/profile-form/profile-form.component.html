<form [formGroup]="profileForm" (ngSubmit)="onSubmit()">
  <div class="row">
    <div class="col">
      <mat-form-field>
        <mat-label>Name</mat-label>
        <input matInput type="text" formControlName="name">
        <mat-error *ngFor="let validation of validationMessages.name">
          <mat-error class="error-message" *ngIf="profileForm.get('name').hasError(validation.type) && (profileForm.get('name').dirty || profileForm.get('name').touched)">{{validation.message}}</mat-error>
        </mat-error>
      </mat-form-field>
    </div>
  </div>
  <div class="row">
      <div class="col">
        <mat-form-field>
          <mat-label>Surname</mat-label>
          <input matInput type="text" formControlName="surname">
          <mat-error *ngFor="let validation of validationMessages.surname">
            <mat-error class="error-message" *ngIf="profileForm.get('surname').hasError(validation.type) && (profileForm.get('surname').dirty || profileForm.get('surname').touched)">{{validation.message}}</mat-error>
          </mat-error>
        </mat-form-field>
      </div>
  </div>
  <div class="row">
      <div class="col">
        <mat-form-field>
          <mat-label>Phone</mat-label>
          <input matInput type="tel" formControlName="phone">
          <mat-error *ngFor="let validation of validationMessages.phone">
            <mat-error class="error-message" *ngIf="profileForm.get('phone').hasError(validation.type) && (profileForm.get('phone').dirty || profileForm.get('phone').touched)">{{validation.message}}</mat-error>
          </mat-error>
        </mat-form-field>
      </div>
  </div>
  <div class="row">
      <div class="col">
        <mat-form-field>
          <mat-label>Email</mat-label>
          <input matInput type="email" formControlName="email">
          <mat-error *ngFor="let validation of validationMessages.email">
            <mat-error class="error-message" *ngIf="profileForm.get('email').hasError(validation.type) && (profileForm.get('email').dirty || profileForm.get('email').touched)">{{validation.message}}</mat-error>
          </mat-error>
        </mat-form-field>
      </div>
  </div>
  <div class="row">
      <div class="col">
        <mat-form-field>
          <mat-label>Rating</mat-label>
          <input matInput min="0" max="10" type="number" formControlName="rating">
          <mat-error *ngFor="let validation of validationMessages.rating">
            <mat-error class="error-message" *ngIf="profileForm.get('rating').hasError(validation.type) && (profileForm.get('rating').dirty || profileForm.get('rating').touched)">{{validation.message}}</mat-error>
          </mat-error>
        </mat-form-field>
      </div>
  </div>
  <div class="row">
      <div class="col">
        <mat-form-field class="datepicker">
          <mat-label>Birth date</mat-label>
            <input matInput [matDatepicker]="birthDate" formControlName="birthDate">
            <mat-datepicker-toggle matSuffix [for]="birthDate"></mat-datepicker-toggle>
            <mat-datepicker #birthDate></mat-datepicker>
            <mat-error *ngFor="let validation of validationMessages.birthDate">
              <mat-error class="error-message" *ngIf="profileForm.get('birthDate').hasError(validation.type) && (profileForm.get('birthDate').dirty || profileForm.get('birthDate').touched)">{{validation.message}}</mat-error>
            </mat-error>
        </mat-form-field>
      </div>
  </div>
  <div class="row">
      <div class="col">
        <mat-form-field>
          <mat-label>Gender</mat-label>
          <input matInput type="text" formControlName="gender">
          <mat-error *ngFor="let validation of validationMessages.gender">
            <mat-error class="error-message" *ngIf="profileForm.get('gender').hasError(validation.type) && (profileForm.get('gender').dirty || profileForm.get('gender').touched)">{{validation.message}}</mat-error>
          </mat-error>
        </mat-form-field>
      </div>
  </div>
  <div class="row">
      <div class="col">
        <mat-form-field>
          <mat-select formControlName="nationalities" multiple placeholder="Nationalities">
            <mat-select-trigger>
              {{profileForm.controls.nationalities.value}}
            </mat-select-trigger>
            <mat-option *ngFor="let country of countries" [value]="country">{{country}}</mat-option>
          </mat-select>
          <mat-error *ngFor="let validation of validationMessages.nationalities">
            <mat-error class="error-message" *ngIf="profileForm.get('nationalities').hasError(validation.type) && (profileForm.get('nationalities').dirty || profileForm.get('nationalities').touched)">{{validation.message}}</mat-error>
          </mat-error>
        </mat-form-field>
      </div>
  </div>
  <div class="row">
      <div class="col">
        <mat-form-field>
          <mat-label>Is profile active</mat-label>
          <mat-select [(value)]="profileForm.controls.isActive.value" formControlName="isActive">
            <mat-option *ngFor="let status of profileStatus" [value]="status.value">{{status.view}}</mat-option>
          </mat-select>
          <mat-error *ngFor="let validation of validationMessages.isActive">
            <mat-error class="error-message" *ngIf="profileForm.get('isActive').hasError(validation.type) && (profileForm.get('isActive').dirty || profileForm.get('isActive').touched)">{{validation.message}}</mat-error>
          </mat-error>
        </mat-form-field>
      </div>
  </div> 

  <div class="row">
    <div class="col">
      <button mat-button class="form-button" type="submit" [disabled]="profileForm.invalid">{{buttonText}}</button>
    </div>
  </div>

</form>
